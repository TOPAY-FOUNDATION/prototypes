# TOPAY Blockchain Remote Storage System Environment Variables

# === Blockchain Server Configuration ===
# Port for the blockchain server
PORT=3000

# Legacy storage URL (for backward compatibility)
STORAGE_URL=http://localhost:3002

# === Device Management Settings ===
# Health check interval in milliseconds (default: 30000 = 30 seconds)
HEALTH_CHECK_INTERVAL=30000

# Maximum consecutive errors before marking device unhealthy (default: 3)
MAX_DEVICE_ERRORS=3

# Load balancing strategy: round-robin, least-loaded, random (default: round-robin)
LOAD_BALANCING=round-robin

# Device operation timeout in milliseconds (default: 10000 = 10 seconds)
DEVICE_TIMEOUT=10000

# === Callback/Webhook Settings ===
# Enable callback system (default: true)
ENABLE_CALLBACKS=true

# Callback timeout in milliseconds (default: 10000 = 10 seconds)
CALLBACK_TIMEOUT=10000

# Maximum callback retry attempts (default: 2)
MAX_CALLBACK_RETRIES=2

# === Storage Client Configuration ===
# Port for storage client to listen on
STORAGE_PORT=3002

# Blockchain server URL to connect to
BLOCKCHAIN_URL=http://localhost:3000

# Data storage directory path
STORAGE_DATA_DIR=./storage-data

# Maximum storage size in bytes (default: 10737418240 = 10GB)
MAX_STORAGE_SIZE=10737418240

# Storage capabilities (comma-separated)
STORAGE_CAPABILITIES=store,retrieve,backup

# === Contract and RPC Configuration ===
# Contract RPC server URL
CONTRACT_RPC_URL=http://localhost:8545/rpc

# Validator URLs (comma-separated)
VALIDATOR_URLS=http://localhost:8547,http://localhost:8548,http://localhost:8549

# === Production Environment Examples ===
# For Render deployment:
# BLOCKCHAIN_URL=https://your-app.onrender.com
# HEALTH_CHECK_INTERVAL=60000
# LOAD_BALANCING=least-loaded

# For Heroku deployment:
# BLOCKCHAIN_URL=https://your-topay-blockchain.herokuapp.com
# MAX_DEVICE_ERRORS=5
# CALLBACK_TIMEOUT=15000

# For Vercel deployment:
# BLOCKCHAIN_URL=https://your-project.vercel.app
# ENABLE_CALLBACKS=true
# DEVICE_TIMEOUT=8000